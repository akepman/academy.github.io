<!DOCTYPE html>
<html lang="ru" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#">

<!-- Mirrored from academy.terrasoft.ua/documents/technic-sdk/7-8/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 23 Mar 2022 09:32:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <link rel="profile" href="http://www.w3.org/1999/xhtml/vocab" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="robots" content="noindex" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh.html" />
<link rel="shortlink" href="ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh.html" />
<link rel="shortcut icon" href="../../../sites/default/files/favicon_1.ico" type="image/vnd.microsoft.icon" />
      <title>Использование EntitySchemaQuery для построения запросов к базе данных | Creatio Academy</title>
      <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i&amp;subset=cyrillic,cyrillic-ext,latin-ext" rel="stylesheet">
  <style>
    @font-face {
      font-family: HelveticaNeueCyr Thin;
      src: url('../../../sites/all/themes/bpmonline/font/HelveticaNeueCyr-Thin.otf'), url('../../../sites/all/themes/bpmonline/font/helveticaneuecyr-thin-webfont.eot');
    }
    @font-face {
      font-family: HelveticaNeueCyr Light;
      src: url('../../../sites/all/themes/bpmonline/font/HelveticaNeueCyr-Light.otf'), url('../../../sites/all/themes/bpmonline/font/helveticaneuecyr-light.eot');
    }
    @font-face {
      font-family: HelveticaNeueCyr Normal;
      src: url('../../../sites/all/themes/bpmonline/font/HelveticaNeueCyr-Medium.otf'), url('../../../sites/all/themes/bpmonline/font/helveticaneuecyr-medium-webfont.eot');
    }
    @font-face {
      font-family: HelveticaNeueCyr-Black;
      src: url('../../../sites/all/themes/bpmonline/font/Helvetica-Black/fonts/helveticaneuecyrblack.eot'), url('../../../sites/all/themes/bpmonline/font/Helvetica-Black/fonts/helveticaneuecyrblack.ttf');
    }
  </style>
  <link type="text/css" rel="stylesheet" href="../../../sites/default/files/css/css_lQaZfjVpwP_oGNqdtWCSpJT1EMqXdMiU84ekLLxQnc4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../sites/default/files/css/css_iQAX3iHJuTE24F8xNmg8oGm1trAxRJE0iQ7kM4OZgsQ.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../sites/default/files/css/css_3zHl2D3Wfu-RpwkaO8yhMGz5Qu_YCDzPyQgK8E8TIlU.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../../cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../sites/default/files/css/css_PmMQiLpAoAElM3ruzdFYHYBGJyc2ox9-FByY_WScau4.css" media="all" />
<style>#sliding-popup.sliding-popup-bottom,#sliding-popup.sliding-popup-bottom .eu-cookie-withdraw-banner,.eu-cookie-withdraw-tab{background:#0779bf;}#sliding-popup.sliding-popup-bottom.eu-cookie-withdraw-wrapper{background:transparent}#sliding-popup .popup-content #popup-text h1,#sliding-popup .popup-content #popup-text h2,#sliding-popup .popup-content #popup-text h3,#sliding-popup .popup-content #popup-text p,#sliding-popup label,#sliding-popup div,.eu-cookie-compliance-secondary-button,.eu-cookie-withdraw-tab{color:#fff !important;}.eu-cookie-withdraw-tab{border-color:#fff;}.eu-cookie-compliance-more-button{color:#fff !important;}
</style>
<link type="text/css" rel="stylesheet" href="../../../sites/default/files/css/css_g-yp6L9LkMqzZBHcHqsEAIMaqtCEv1nn5Y3qN1YzoHI.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../sites/default/files/css/css_aGIJ_VVrF5necSI3BkaZfDFCdMk4oi39Zt38r8o2D4g.css" media="all" />
  <!-- HTML5 element support for IE6-8 -->
  <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="../../../sites/default/files/js/js_x0MhBQfHNAIO1NwkQgzf_TGN4b8eMmKre3nqUfoQv3w.js"></script>
<script src="../../../sites/default/files/js/js_Q2kecghLvvd69tAPGWpW7ObwRsXWuwiJPaPsZga9Egc.js"></script>
<script src="../../../sites/default/files/js/js_R9UbiVw2xuTUI0GZoaqMDOdX0lrZtgX-ono8RVOUEVc.js"></script>
<script src="../../../sites/default/files/js/js_d1gsLyvq4UwbmywBgBWlxKDTW_GZ1ZZ9I-Nbn7upZp4.js"></script>
<script src="../../../sites/default/files/js/js_N32mPu89eMVZeB4r2kHm74RIQOaFIe2IYN3rTnck4V8.js"></script>
<script src="../../../sites/default/files/js/js_v89jUZ_l2LR8NzEXW2kWQ6me12tC-jCbLw8O3mpuQ2A.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"bpmonline","theme_token":"NjoMRj98qgaS3qM1t9RUTTPgbkUc_Vp_A0VQfU7xKLw","jquery_version":"1.8","js":{"sites\/all\/libraries\/select2-4.0.1\/dist\/js\/select2.full.min.js":1,"sites\/all\/themes\/bpmonline\/js\/prettify\/prettify.min.js":1,"sites\/all\/themes\/bpmonline\/js\/lib\/slick\/slick.min.js":1,"sites\/all\/libraries\/jquery-cookie\/jquery.cookie.js":1,"sites\/all\/modules\/custom\/ts_kolobiz\/js\/ts_kolobiz.min.js":1,"sites\/all\/modules\/custom\/views_infinite_scroll\/js\/views-infinite-scroll.js":1,"0":1,"sites\/all\/modules\/eu_cookie_compliance\/js\/eu_cookie_compliance.js":1,"sites\/all\/libraries\/jquery-plugin-query-object-master\/jquery.query-object.js":1,"sites\/all\/libraries\/fancybox\/source\/jquery.fancybox.pack.js":1,"1":1,"sites\/all\/themes\/bootstrap\/js\/bootstrap.js":1,"sites\/all\/modules\/jquery_update\/replace\/jquery\/1.8\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/eu_cookie_compliance\/js\/jquery.cookie-1.4.1.min.js":1,"sites\/all\/modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"sites\/all\/modules\/jquery_update\/js\/jquery_update.js":1,"sites\/all\/modules\/admin_menu\/admin_devel\/admin_devel.js":1,"public:\/\/languages\/ru_b73-NeU5or8KO3Tm7HDDG6RAi-cXXhv79Hqb8JxGXss.js":1,"sites\/all\/libraries\/colorbox\/jquery.colorbox-min.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/custom\/ts_header\/js\/header-style.min.js":1,"sites\/all\/modules\/tb_megamenu\/js\/tb-megamenu-frontend.js":1,"sites\/all\/modules\/tb_megamenu\/js\/tb-megamenu-touch.js":1,"sites\/all\/modules\/views_show_more\/views_show_more.js":1,"misc\/textarea.js":1,"sites\/all\/modules\/webform\/js\/webform.js":1,"sites\/all\/modules\/views\/js\/base.js":1,"sites\/all\/themes\/bootstrap\/js\/misc\/_progress.js":1,"sites\/all\/modules\/views\/js\/ajax_view.js":1,"sites\/all\/modules\/custom\/ts_course_custom\/js\/course.js":1,"sites\/all\/themes\/bpmonline\/js\/tb-megamenu-frontend.js":1,"sites\/all\/themes\/bpmonline\/js\/lib\/jquery.sticky.js":1,"sites\/all\/themes\/bpmonline\/js\/lib\/perfect-scrollbar.jquery.js":1,"sites\/all\/modules\/custom\/ts_doc\/ts_doc_rate\/js\/script.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/affix.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/alert.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/button.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/carousel.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/collapse.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/dropdown.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/modal.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/tooltip.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/popover.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/scrollspy.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/tab.js":1,"sites\/all\/themes\/bpmonline\/bootstrap\/js\/transition.js":1,"sites\/all\/themes\/bpmonline\/js\/script.js":1,"sites\/all\/themes\/bootstrap\/js\/modules\/views\/js\/ajax_view.js":1,"sites\/all\/themes\/bootstrap\/js\/misc\/ajax.js":1},"css":{"modules\/system\/system.base.css":1,"sites\/all\/modules\/calendar\/css\/calendar_multiday.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/logintoboggan\/logintoboggan.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/quiz\/quiz.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ckeditor\/css\/ckeditor.css":1,"sites\/all\/libraries\/select2-4.0.1\/dist\/css\/select2.min.css":1,"sites\/all\/themes\/bpmonline\/js\/prettify\/prettify.min.css":1,"sites\/all\/themes\/bpmonline\/js\/lib\/slick\/slick.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/genpass\/genpass.css":1,"sites\/all\/modules\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/ts_header\/css\/header-style.min.css":1,"https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/font-awesome\/4.4.0\/css\/font-awesome.min.css":1,"sites\/all\/modules\/tb_megamenu\/css\/bootstrap.css":1,"sites\/all\/modules\/tb_megamenu\/css\/base.css":1,"sites\/all\/modules\/tb_megamenu\/css\/default.css":1,"sites\/all\/modules\/tb_megamenu\/css\/compatibility.css":1,"sites\/all\/modules\/webform\/css\/webform.css":1,"sites\/all\/modules\/eu_cookie_compliance\/css\/eu_cookie_compliance.css":1,"sites\/all\/modules\/custom\/ts_course_custom\/css\/course.min.css":1,"sites\/all\/themes\/bpmonline\/css\/header.min.css":1,"sites\/all\/themes\/bpmonline\/css\/footer_ru\/_blocks.min.css":1,"sites\/all\/themes\/bpmonline\/css\/footer_ru\/_footer-small.min.css":1,"sites\/all\/themes\/bpmonline\/css\/footer_ru\/_footer-small-light.min.css":1,"sites\/all\/themes\/bpmonline\/css\/documentation.min.css":1,"sites\/all\/themes\/bpmonline\/css\/lib\/perfect-scrollbar.css":1,"sites\/all\/libraries\/fancybox\/source\/jquery.fancybox.css":1,"sites\/all\/modules\/custom\/ts_doc\/ts_doc_rate\/css\/ts_doc_rate.min.css":1,"0":1,"sites\/all\/themes\/bpmonline\/css\/style.min.css":1,"sites\/all\/themes\/bpmonline\/css\/block.min.css":1,"sites\/all\/themes\/bpmonline\/css\/search.min.css":1,"sites\/all\/themes\/bpmonline\/less\/style_bootstrap.min.css":1,"sites\/all\/themes\/bpmonline\/css\/style-main-menu.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px"},"better_exposed_filters":{"views":{"front_main_banner":{"displays":{"block_ua":{"filters":[]},"block_2":{"filters":[]}}}}},"urlIsAjaxTrusted":{"\/documents\/technic-sdk\/7-8\/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh":true,"\/system\/ajax":true},"views_infinite_scroll":{"block":"\u003Cdiv id=\u0022front-feedback\u0022 class=\u0022node col-xs-12\u0022 style=\u0022margin:0 15px 30px; width:Calc(100% - 30px);box-shadow: 1px 1px 6px 2px #d0cece;\u0022\u003E\n  \u003Cdiv class=\u0022container\u0022\u003E\n    \n      \u003Cdiv class=\u0022col-sm-12\u0022\u003E\n        \u003Ch2 class=\u0022block-title\u0022\u003E\u041d\u0430\u043c \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u0430 \u0432\u0430\u0448\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c!\u003C\/h2\u003E\n      \u003C\/div\u003E\n        \u003Cform class=\u0022webform-client-form webform-client-form-290718\u0022 action=\u0022\/documents\/technic-sdk\/7-8\/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh\u0022 method=\u0022post\u0022 id=\u0022webform-client-form-290718\u0022 accept-charset=\u0022UTF-8\u0022\u003E\u003Cdiv\u003E\u003Cdiv class=\u0022form-item webform-component webform-component-textarea webform-component--feedback form-group form-item form-item-submitted-feedback form-type-textarea form-group\u0022\u003E\u003Cdiv class=\u0022form-textarea-wrapper resizable\u0022\u003E\u003Ctextarea required=\u0022required\u0022 placeholder=\u0022\u041a\u0430\u043a\u0438\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0432\u044b \u0445\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435?\u0022 class=\u0022form-control form-textarea required\u0022 id=\u0022edit-submitted-feedback\u0022 name=\u0022submitted[feedback]\u0022 cols=\u002260\u0022 rows=\u00221\u0022\u003E\u003C\/textarea\u003E\u003C\/div\u003E \u003Clabel class=\u0022control-label element-invisible\u0022 for=\u0022edit-submitted-feedback\u0022\u003Efeedback \u003Cspan class=\u0022form-required\u0022 title=\u0022\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.\u0022\u003E*\u003C\/span\u003E\u003C\/label\u003E\n\u003C\/div\u003E\u003Cinput type=\u0022hidden\u0022 name=\u0022details[sid]\u0022 \/\u003E\u003Cinput type=\u0022hidden\u0022 name=\u0022details[page_num]\u0022 value=\u00221\u0022 \/\u003E\u003Cinput type=\u0022hidden\u0022 name=\u0022details[page_count]\u0022 value=\u00221\u0022 \/\u003E\u003Cinput type=\u0022hidden\u0022 name=\u0022details[finished]\u0022 value=\u00220\u0022 \/\u003E\u003Cinput type=\u0022hidden\u0022 name=\u0022form_build_id\u0022 value=\u0022form-g7n3RXEE3_n0A6fA-82biGmSJARdZ5XdVaDTd1MDh0w\u0022 \/\u003E\u003Cinput type=\u0022hidden\u0022 name=\u0022form_id\u0022 value=\u0022webform_client_form_290718\u0022 \/\u003E\u003Cdiv class=\u0022form-actions\u0022\u003E\u003Cbutton class=\u0022webform-submit button-primary btn btn-primary form-submit\u0022 type=\u0022submit\u0022 name=\u0022op\u0022 value=\u0022\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0022\u003E\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u003C\/button\u003E\n\u003C\/div\u003E\u003C\/div\u003E\u003C\/form\u003E    \u003C\/div\u003E\n\n\u003C\/div\u003E\n\u003Cstyle\u003E\n\u003C!--\/*--\u003E\u003C![CDATA[\/* \u003E\u003C!--*\/\n\n#front-feedback form .form-actions .form-submit {\n    width: 100%;\n}\n\n\/*--\u003E\u003C!]]\u003E*\/\n\u003C\/style\u003E","img_path":"\/sites\/all\/modules\/custom\/views_infinite_scroll\/images\/ajax-loader.gif"},"views":{"ajax_path":"\/views\/ajax","ajaxViews":{"views_dom_id:a790cce544108b86ad3d9452f96d65eb":{"view_name":"front_main_banner","view_display_id":"block_2","view_args":"","view_path":"node\/664969","view_base_path":null,"view_dom_id":"a790cce544108b86ad3d9452f96d65eb","pager_element":0}}},"eu_cookie_compliance":{"popup_enabled":1,"popup_agreed_enabled":0,"popup_hide_agreed":0,"popup_clicking_confirmation":false,"popup_scrolling_confirmation":false,"popup_html_info":"\u003Cdiv class=\u0022eu-cookie-compliance-banner eu-cookie-compliance-banner-info eu-cookie-compliance-banner--opt-in\u0022\u003E\n  \u003Cdiv class=\u0022popup-content info\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Cp\u003E\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0444\u0430\u0439\u043b\u044b cookie \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043e\u043f\u044b\u0442\u0430. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044f \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442, \u0432\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u0441 \u003Ca href=\u0022https:\/\/www.terrasoft.ru\/privacy-policy#addition-cookies\u0022 target=\u0022_blank\u0022\u003E\u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f cookie-\u0444\u0430\u0439\u043b\u043e\u0432\u003C\/a\u003E\u003C\/p\u003E              \u003Cbutton type=\u0022button\u0022 class=\u0022find-more-button eu-cookie-compliance-more-button\u0022\u003ENo, give me more info\u003C\/button\u003E\n          \u003C\/div\u003E\n    \n    \u003Cdiv id=\u0022popup-buttons\u0022 class=\u0022\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022agree-button eu-cookie-compliance-secondary-button\u0022\u003E\u041f\u0440\u0438\u043d\u044f\u0442\u044c\u003C\/button\u003E\n              \u003Cbutton type=\u0022button\u0022 class=\u0022decline-button eu-cookie-compliance-default-button\u0022 \u003ENo, thanks\u003C\/button\u003E\n          \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E","use_mobile_message":false,"mobile_popup_html_info":"\u003Cdiv class=\u0022eu-cookie-compliance-banner eu-cookie-compliance-banner-info eu-cookie-compliance-banner--opt-in\u0022\u003E\n  \u003Cdiv class=\u0022popup-content info\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Ch2\u003EWe use cookies on this site to enhance your user experience\u003C\/h2\u003E\u003Cp\u003EBy tapping the Accept button, you agree to us doing so.\u003C\/p\u003E              \u003Cbutton type=\u0022button\u0022 class=\u0022find-more-button eu-cookie-compliance-more-button\u0022\u003ENo, give me more info\u003C\/button\u003E\n          \u003C\/div\u003E\n    \n    \u003Cdiv id=\u0022popup-buttons\u0022 class=\u0022\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022agree-button eu-cookie-compliance-secondary-button\u0022\u003E\u041f\u0440\u0438\u043d\u044f\u0442\u044c\u003C\/button\u003E\n              \u003Cbutton type=\u0022button\u0022 class=\u0022decline-button eu-cookie-compliance-default-button\u0022 \u003ENo, thanks\u003C\/button\u003E\n          \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E\n","mobile_breakpoint":"768","popup_html_agreed":"\u003Cdiv\u003E\n  \u003Cdiv class=\u0022popup-content agreed\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Ch2\u003EThank you for accepting cookies\u003C\/h2\u003E\u003Cp\u003EYou can now hide this message or find out more about cookies.\u003C\/p\u003E    \u003C\/div\u003E\n    \u003Cdiv id=\u0022popup-buttons\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022hide-popup-button eu-cookie-compliance-hide-button\u0022\u003EHide\u003C\/button\u003E\n              \u003Cbutton type=\u0022button\u0022 class=\u0022find-more-button eu-cookie-compliance-more-button-thank-you\u0022 \u003EMore info\u003C\/button\u003E\n          \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E","popup_use_bare_css":false,"popup_height":"auto","popup_width":"100%","popup_delay":1000,"popup_link":"\/privacy-policy","popup_link_new_window":1,"popup_position":null,"fixed_top_position":1,"popup_language":"ru","store_consent":false,"better_support_for_screen_readers":0,"reload_page":0,"domain":"","domain_all_sites":0,"popup_eu_only_js":0,"cookie_lifetime":"100","cookie_session":false,"disagree_do_not_show_popup":0,"method":"opt_in","whitelisted_cookies":"","withdraw_markup":"\u003Cbutton type=\u0022button\u0022 class=\u0022eu-cookie-withdraw-tab\u0022\u003EPrivacy settings\u003C\/button\u003E\n\u003Cdiv class=\u0022eu-cookie-withdraw-banner\u0022\u003E\n  \u003Cdiv class=\u0022popup-content info\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Ch2\u003EWe use cookies on this site to enhance your user experience\u003C\/h2\u003E\u003Cp\u003EYou have given your consent for us to set cookies.\u003C\/p\u003E    \u003C\/div\u003E\n    \u003Cdiv id=\u0022popup-buttons\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022eu-cookie-withdraw-button\u0022\u003EWithdraw consent\u003C\/button\u003E\n    \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E\n","withdraw_enabled":false,"withdraw_button_on_info_popup":0,"cookie_categories":[],"enable_save_preferences_button":1,"fix_first_cookie_category":1,"select_all_categories_by_default":0,"cookie_name":""},"ajax":{"edit-rate-up":{"callback":"ts_doc_rate_ajax_up","event":"mousedown","keypress":true,"prevent":"click","url":"\/system\/ajax","submit":{"_triggering_element_name":"rate_up","_triggering_element_value":"\u0414\u0430"}},"edit-rate-down":{"callback":"ts_doc_rate_ajax_down","event":"mousedown","keypress":true,"prevent":"click","url":"\/system\/ajax","submit":{"_triggering_element_name":"rate_down","_triggering_element_value":"\u041d\u0435\u0442"}},"edit-rate-comment-save":{"callback":"ts_doc_rate_ajax_comment_save","event":"mousedown","keypress":true,"prevent":"click","url":"\/system\/ajax","submit":{"_triggering_element_name":"rate_comment_save","_triggering_element_value":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}}},"bootstrap":{"anchorsFix":"0","anchorsSmoothScrolling":"0","formHasError":1,"popoverEnabled":1,"popoverOptions":{"animation":1,"html":0,"placement":"right","selector":"","trigger":"click","triggerAutoclose":1,"title":"","content":"","delay":0,"container":"body"},"tooltipEnabled":1,"tooltipOptions":{"animation":1,"html":0,"placement":"auto left","selector":"","trigger":"hover focus","delay":0,"container":"body"}}});</script>
				<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
				new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
				j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
				'../../../../www.googletagmanager.com/gtm5445.html?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KLLB8G');</script>
		<!-- End Google Tag Manager -->
		</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-664969 node-type-sdk ru zone_ua">
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLLB8G"
										height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
  	<div class="site-content">
		<div id="skip-link">
			<a href="#main-content" class="element-invisible element-focusable">Перейти к основному содержанию</a>
		</div>
				<style type="text/css">
              @import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@600&amp;display=swap);
              @import url(../../../../www.terrasoft.ua/themes/custom/creatio/css/components/informer.css);
            </style>
              <div class="ts-swu">
                <div class="creatio-container">
                  <div class="ts-swu__cont">
                    <div><a class="ts-swu__link" href="https://www.terrasoft.ua/terrasoft-stands-with-ukraine" target="_blank">Україна понад усе!</a> <span><a href="https://www.terrasoft.ua/terrasoft-stands-with-ukraine" target="_blank">Приєднуйтеся</a> до допомоги!</span></div>
                  </div>
                </div>
              </div>  <div id="new-header">
    <header id="navbar" role="banner" class="navbar container navbar-default">
      <div id="top-menu">
        <div class="container">

          

          <div class="top-menu hidden-xs hidden-sm col-md-12 col-lg-12">

            <ul class="menu nav navbar-nav secondary"><li class="first leaf"><a href="http://community.terrasoft.ua/">Сообщество</a></li>
<li class="leaf"><a href="https://marketplace.terrasoft.ua/">Marketplace</a></li>
<li class="leaf"><a href="https://www.terrasoft.ua/">Terrasoft</a></li>
<li class="last leaf"><a href="https://profile.terrasoft.ua/user/login?destination=academy/ua">Вход</a></li>
</ul><form action="https://academy.terrasoft.ua/documents/technic-sdk/7-8/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh" method="post" id="search-api-page-search-form-solr-search-page-3--2" accept-charset="UTF-8"><div><div class="form-item form-item-keys-4 form-type-textfield form-group"><input placeholder="Поиск" class="form-control form-text" type="text" id="edit-keys-4--3" name="keys_4" value="" size="15" maxlength="128" /> <label class="control-label element-invisible" for="edit-keys-4--3">Введите ключевые слова для поиска</label>
</div><input type="hidden" name="id" value="4" />
<button type="submit" id="edit-submit-4--2" name="op" value="Поиск" class="btn btn-primary form-submit">Поиск</button>
<input type="hidden" name="form_build_id" value="form--GbMERDkX0L_VG91QV_GnQhMuMwvcoaSemn3d8E7YRw" />
<input type="hidden" name="form_id" value="search_api_page_search_form_solr_search_page_3" />
</div></form>          </div>
                  </div>
      </div>
      <div id="main-menu">

        <div class="container">


          <div class="navbar-mobile">
            <div class="navbar-mobile__row">
              <div class="navbar-mobile-toggle">
                <span class="navbar-mobile-toggle__middle"></span>
              </div>

              <a class="navbar-mobile-logo" href="../../../index.html" title="Главная">
                <img class="navbar-mobile-logo__image" src="../../../sites/all/themes/bpmonline/img/bpm-logo-white.svg" />
              </a>

              <div class="navbar-mobile-user"></div>
            </div>

              <div class="region region-navigation">
    <section id="block-tb-megamenu-main-menu" class="block block-tb-megamenu clearfix">

      
  <div  class="tb-megamenu tb-megamenu-main-menu">
      <button data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar tb-megamenu-button" type="button">
      <i class="fa fa-reorder"></i>
    </button>
    <div class="nav-collapse  always-show">
    <ul  class="tb-megamenu-nav nav level-0 items-5">
  <li  data-id="448" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega dropdown">
  <a href="#"  class="dropdown-toggle" title="Видео">
        
    Видео          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-showblocktitle="0" data-class="container" data-width="12" data-hidewcol="" id="tb-megamenu-column-1" class="tb-megamenu-column span12  mega-col-nav container">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <div  data-type="block" data-block="ts_custom_megamenu--ts_custom_megamenu_video" class="tb-megamenu-block tb-block tb-megamenu-block">
  <div class="block-inner">
    <section id="block-ts-custom-megamenu-ts-custom-megamenu-video" class="block block-ts-custom-megamenu clearfix">

      
  <div class="container hide_menu_old">
          <div class="row">
        <div class="col-md-3" style="margin-bottom: 15px;">
          <h3><a href="../../../video-courses.html">Видеокурсы</a></h3>
          <p>Обзорные видеоролики
            по настройке <nobr>и работе</nobr> в Creatio с пошаговыми инструкциями
          </p>
        </div>
        <div class="col-md-3" style="margin-bottom: 15px;">
          <h3><a href="../../../index.html">Вебинары</a></h3>
          <p>Записи вебинаров по функциональным возможностям и разработке <nobr>на платформе</nobr> Creatio</p>
        </div>
        <div class="col-md-6" style="margin-top: -10px;">
          <a class="image" href="../../../trainings.html">
            <img src="../../../sites/all/themes/bpmonline/img/baners/banner-menu-video.png" alt="Training" style="">
          </a>
        </div>
      </div>
    </div>
<div class="container hide_menu_new">
        <div class="row">
        <div class="col-md-4" style="margin-bottom: 15px;">
          <h3><a href="../../../video-courses.html">Видеокурсы</a></h3>
          <p>Обзорные видеоролики по настройке <nobr>и работе</nobr> в Creatio с пошаговыми инструкциями
          </p>
        </div>
        <div class="col-md-4" style="margin-bottom: 15px;">
          <h3><a href="../../../index.html">Вебинары</a></h3>
          <p>Записи вебинаров по функциональным возможностям и разработке <nobr>на платформе</nobr> Creatio</p>
        </div>
      </div>
      <div class="row bottom">
          <div class="col-md-12 bottom-plates" style="height: 260px;">
                            <div class="plate plate-1"><a style="height: 100%;" href="../../../webinar/vebinar-osnovy-vnedreniya-creatio.html"><img
                                src="../../../sites/default/files/photo-1474546652694-a33dd8161d66.jpg"/>
                        <p>Вебинар "Основы внедрения Creatio"<br/><span>Смотреть >>></span></p></a>
                </div>
                                        <div class="plate plate-2">
                    <a style="height: 100%;" href="../../../webinar/vebinar-obzor-reliza-bpmonline-712.html"><img
                                src="../../../sites/default/files/33.png"/>
                        <p>Вебинар: Обзор релиза bpm'online 7.12<br/><span>Смотреть >>></span></p></a>
                </div>
                                        <div class="plate plate-3">
                    <a style="height: 100%;" href="../../../webinar/vebinar-upravlenie-marketingovymi-kampaniyami.html"><img
                                src="../../../sites/default/files/42_0.png"/>
                        <p>Вебинар 'Управление маркетинговыми кампаниями'<br/><span>Смотреть >>></span></p></a>
                </div>
                          <div class="recent-posts">Последние вебинары</div>
              <img class="accelerarte" src="../../../sites/all/themes/bpmonline/img/menu/accelerate-logo.png">
          </div>
      </div>
    </div>
<script type="text/javascript">
    jQuery(document).ready(function () {
        if (jQuery(".plate").length > 0) {
            jQuery(".row.bottom .plate").each(function () {
                var url = jQuery(this).find("img").attr("src");
                jQuery(this).css("background", "url(" + url + ") no-repeat").css("background-size", "cover");
                console.log(url);
            });
        }
    });
</script>
</section>
  </div>
</div>
  </div>
</div>
</div>

<div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-4" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-2">
  <li  data-id="901" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega dropdown-submenu">
  <a href="#"  class="dropdown-toggle">
        
    Видеокурсы          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-2" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-1">
  <li  data-id="2684" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="https://academy.terrasoft.ru/video-courses" >
        
    Видеокурсы bpm'online          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="1194" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega dropdown-submenu">
  <a href="#"  class="dropdown-toggle">
        
    Вебинары          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-3" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-1">
  <li  data-id="1195" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="https://academy.terrasoft.ru/webinars" >
        
    Bpm'online вебинары          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="447" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="../../../documentation.html"  class="menu-dropdown" title="Документация">
        
    Документация          </a>
  </li>

<li  data-id="445" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="../../../trainings.html" >
        
    Тренинги          </a>
  </li>

<li  data-id="939" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="../../../docs/certification.html" >
        
    Сертификация и тестирование          </a>
  </li>
</ul>
      </div>
  </div>

</section>
<section id="block-tb-megamenu-user-menu" class="block block-tb-megamenu clearfix">

      
  <div  class="tb-megamenu tb-megamenu-user-menu">
      <button data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar tb-megamenu-button" type="button">
      <i class="fa fa-reorder"></i>
    </button>
    <div class="nav-collapse  always-show">
    <ul  class="tb-megamenu-nav nav level-0 items-8">
  <li  data-id="1112" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="http://community.terrasoft.ua/" >
        
    Сообщество          </a>
  </li>

<li  data-id="1113" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="https://marketplace.terrasoft.ua/" >
        
    Marketplace          </a>
  </li>

<li  data-id="1114" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="https://www.terrasoft.ua/" >
        
    Террасофт          </a>
  </li>

<li  data-id="1062" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="https://profile.terrasoft.ua/user/login?destination=academy/ua" >
        
    Вход          </a>
  </li>
</ul>
      </div>
  </div>

</section>
  </div>
          </div>

                          <a class="logo navbar-btn pull-left" href="../../../index.html" title="Главная">
                <img src="../../../sites/all/themes/bpmonline/img/bpm-logo.svg" alt="Главная" />
              </a>
            
                            <div class="navbar-collapse collapse col-md-7" id="navbar-collapse">
                    <nav role="navigation">
                                                      <div class="region region-navigation">
      <div class="region region-navigation">
    <section id="block-tb-megamenu-main-menu" class="block block-tb-megamenu clearfix">

      
  <div  class="tb-megamenu tb-megamenu-main-menu">
      <button data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar tb-megamenu-button" type="button">
      <i class="fa fa-reorder"></i>
    </button>
    <div class="nav-collapse  always-show">
    <ul  class="tb-megamenu-nav nav level-0 items-5">
  <li  data-id="448" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega dropdown">
  <a href="#"  class="dropdown-toggle" title="Видео">
        
    Видео          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-showblocktitle="0" data-class="container" data-width="12" data-hidewcol="" id="tb-megamenu-column-1" class="tb-megamenu-column span12  mega-col-nav container">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <div  data-type="block" data-block="ts_custom_megamenu--ts_custom_megamenu_video" class="tb-megamenu-block tb-block tb-megamenu-block">
  <div class="block-inner">
    <section id="block-ts-custom-megamenu-ts-custom-megamenu-video" class="block block-ts-custom-megamenu clearfix">

      
  <div class="container hide_menu_old">
          <div class="row">
        <div class="col-md-3" style="margin-bottom: 15px;">
          <h3><a href="../../../video-courses.html">Видеокурсы</a></h3>
          <p>Обзорные видеоролики
            по настройке <nobr>и работе</nobr> в Creatio с пошаговыми инструкциями
          </p>
        </div>
        <div class="col-md-3" style="margin-bottom: 15px;">
          <h3><a href="../../../index.html">Вебинары</a></h3>
          <p>Записи вебинаров по функциональным возможностям и разработке <nobr>на платформе</nobr> Creatio</p>
        </div>
        <div class="col-md-6" style="margin-top: -10px;">
          <a class="image" href="../../../trainings.html">
            <img src="../../../sites/all/themes/bpmonline/img/baners/banner-menu-video.png" alt="Training" style="">
          </a>
        </div>
      </div>
    </div>
<div class="container hide_menu_new">
        <div class="row">
        <div class="col-md-4" style="margin-bottom: 15px;">
          <h3><a href="../../../video-courses.html">Видеокурсы</a></h3>
          <p>Обзорные видеоролики по настройке <nobr>и работе</nobr> в Creatio с пошаговыми инструкциями
          </p>
        </div>
        <div class="col-md-4" style="margin-bottom: 15px;">
          <h3><a href="../../../index.html">Вебинары</a></h3>
          <p>Записи вебинаров по функциональным возможностям и разработке <nobr>на платформе</nobr> Creatio</p>
        </div>
      </div>
      <div class="row bottom">
          <div class="col-md-12 bottom-plates" style="height: 260px;">
                            <div class="plate plate-1"><a style="height: 100%;" href="../../../webinar/vebinar-osnovy-vnedreniya-creatio.html"><img
                                src="../../../sites/default/files/photo-1474546652694-a33dd8161d66.jpg"/>
                        <p>Вебинар "Основы внедрения Creatio"<br/><span>Смотреть >>></span></p></a>
                </div>
                                        <div class="plate plate-2">
                    <a style="height: 100%;" href="../../../webinar/vebinar-obzor-reliza-bpmonline-712.html"><img
                                src="../../../sites/default/files/33.png"/>
                        <p>Вебинар: Обзор релиза bpm'online 7.12<br/><span>Смотреть >>></span></p></a>
                </div>
                                        <div class="plate plate-3">
                    <a style="height: 100%;" href="../../../webinar/vebinar-upravlenie-marketingovymi-kampaniyami.html"><img
                                src="../../../sites/default/files/42_0.png"/>
                        <p>Вебинар 'Управление маркетинговыми кампаниями'<br/><span>Смотреть >>></span></p></a>
                </div>
                          <div class="recent-posts">Последние вебинары</div>
              <img class="accelerarte" src="../../../sites/all/themes/bpmonline/img/menu/accelerate-logo.png">
          </div>
      </div>
    </div>
<script type="text/javascript">
    jQuery(document).ready(function () {
        if (jQuery(".plate").length > 0) {
            jQuery(".row.bottom .plate").each(function () {
                var url = jQuery(this).find("img").attr("src");
                jQuery(this).css("background", "url(" + url + ") no-repeat").css("background-size", "cover");
                console.log(url);
            });
        }
    });
</script>
</section>
  </div>
</div>
  </div>
</div>
</div>

<div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-4" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-1 items-2">
  <li  data-id="901" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega dropdown-submenu">
  <a href="#"  class="dropdown-toggle">
        
    Видеокурсы          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-2" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-1">
  <li  data-id="2684" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="https://academy.terrasoft.ru/video-courses" >
        
    Видеокурсы bpm'online          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="1194" data-level="2" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-2 mega dropdown-submenu">
  <a href="#"  class="dropdown-toggle">
        
    Вебинары          <span class="caret"></span>
          </a>
  <div  data-class="" data-width="" class="tb-megamenu-submenu dropdown-menu mega-dropdown-menu nav-child">
  <div class="mega-dropdown-inner">
    <div  class="tb-megamenu-row row-fluid">
  <div  data-class="" data-width="12" data-hidewcol="0" id="tb-megamenu-column-3" class="tb-megamenu-column span12  mega-col-nav">
  <div class="tb-megamenu-column-inner mega-inner clearfix">
        <ul  class="tb-megamenu-subnav mega-nav level-2 items-1">
  <li  data-id="1195" data-level="3" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-3 mega">
  <a href="https://academy.terrasoft.ru/webinars" >
        
    Bpm'online вебинары          </a>
  </li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>
</ul>
  </div>
</div>
</div>
  </div>
</div>
</li>

<li  data-id="447" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="../../../documentation.html"  class="menu-dropdown" title="Документация">
        
    Документация          </a>
  </li>

<li  data-id="445" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="../../../trainings.html" >
        
    Тренинги          </a>
  </li>

<li  data-id="939" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="../../../docs/certification.html" >
        
    Сертификация и тестирование          </a>
  </li>
</ul>
      </div>
  </div>

</section>
<section id="block-tb-megamenu-user-menu" class="block block-tb-megamenu clearfix">

      
  <div  class="tb-megamenu tb-megamenu-user-menu">
      <button data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar tb-megamenu-button" type="button">
      <i class="fa fa-reorder"></i>
    </button>
    <div class="nav-collapse  always-show">
    <ul  class="tb-megamenu-nav nav level-0 items-8">
  <li  data-id="1112" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="http://community.terrasoft.ua/" >
        
    Сообщество          </a>
  </li>

<li  data-id="1113" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="https://marketplace.terrasoft.ua/" >
        
    Marketplace          </a>
  </li>

<li  data-id="1114" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="https://www.terrasoft.ua/" >
        
    Террасофт          </a>
  </li>

<li  data-id="1062" data-level="1" data-type="menu_item" data-class="" data-xicon="" data-caption="" data-alignsub="" data-group="0" data-hidewcol="0" data-hidesub="0" class="tb-megamenu-item level-1 mega">
  <a href="https://profile.terrasoft.ua/user/login?destination=academy/ua" >
        
    Вход          </a>
  </li>
</ul>
      </div>
  </div>

</section>
  </div>
  </div>
                                            </nav>
                    <div id="custom-sub-menu"></div>
                </div>
                    </div>
      </div>
    </header>
  </div>




<div id="full-page-top">
  </div>

<div class="main-container container">

  <header role="banner" id="page-header">
    
  </header> <!-- /#page-header -->

  <div class="row">

    
    <section class="col-sm-12">
            <a id="main-content"></a>
                    <!--      --><!--         <h1 class="page-header">--><!--</h1>-->
<!--      -->                                                      <div class="region region-content">
    <section id="block-system-main" class="block block-system clearfix">

      
  <div id="documentation-node-tpl" class="row">

  <div id="title-block">
    <div class="title-container col-sm-6">
      <h2 class="title"><a href="../../../documentation.html">Документация</a></h2>
    </div>
    <div id="product-info" class="col-sm-6">
      <div class="product-name">
        Creatio development guide      </div>
      <div class="product-version">
        									<select name="product-version-select" id="product-version-select">
																					<option value="documents/technic-sdk/7-16/dokumentaciya-po-razrabotke" >
									Версия 7.16								</option>
																												<option value="documents/technic-sdk/7-15/dokumentaciya-po-razrabotke" >
									Версия 7.15								</option>
																												<option value="documents/technic-sdk/7-14/dokumentaciya-po-razrabotke" >
									Версия 7.14								</option>
																												<option value="documents/technic-sdk/7-13/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh" >
									Версия 7.13								</option>
																												<option value="documents/technic-sdk/7-12/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh" >
									Версия 7.12								</option>
																		</select>
				      </div>
    </div>
  </div>


  <div class="wrapper-outer">
    <div id="documentation-menu" class="open col-sm-4">
      <div id="navigation-panel" class="navigation-panel">
        <div id="content-panel" class="content-panel">
					<span class="menu-icon"></span>
          <span class="caption open">
            Содержание          </span>
        </div>
      </div>
      <div id="documentation-menu-body">
              </div>
    </div>
      <div id="sdk-documentation" class="col-sm-8">
        <div class="warning-text">
          Это документация Creatio версии 7.8.0. Мы рекомендуем использовать <a href=../../../docs/index.html>новую версию документации.</a>        </div>
        <div id="dxBody">
          <article id="node-664969" class="node node-sdk clearfix" about="/documents/technic-sdk/7-8/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh" typeof="sioc:Item foaf:Document">
            
                          <div class="content">
                <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded">	<!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_PROPERTIES" --><!--DXMETADATA end -->
    <div style="display: none">
        <input type="hidden" id="userDataCache" class="userDataStyle" name="userDataCache" /><input type="hidden" id="hiddenScrollOffset" name="hiddenScrollOffset" /></div>
    <img id="collapseImage" style="display:none; height:0; width:0;" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/hs-heading-expanded.png" /><img id="expandImage" style="display:none; height:0; width:0;" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/hs-heading-collapsed.png" /><img id="copyImage" style="display:none; height:0; width:0;" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/copycode.gif" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/copycodeHighlight.gif" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/drpdown.gif" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/drpdown_orange.gif" /><h1>Использование EntitySchemaQuery для построения запросов к базе данных</h1>
    <div class="hspopupbubble" id="hsglossaryitembox">
        <p>Glossary Item Box</p>
    </div>
    <div id="pagebody">
        <div id="mainbody">
			<!--DXMETADATA start type="TopicSection" name="BodyText"--><h1>Общие положения</h1>

<h2>Назначение EntitySchemaQuery. Отличие от Select</h2>

<p><a href="entityschemaquery-klass.html">EntitySchemaQuery</a> – это высокоуровневый класс, который предназначен для построения запросов на выборку из базы данных. Для выполнения запросов к базе данных в bpm'online также предназначен класс <a href="select-klass.html">Select</a>. Однако между <a href="select-klass.html">Select</a> и <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> существуют принципиальные различия.</p>

<p>Класс <a href="select-klass.html">Select</a> представляет собой стандартную SQL-инструкцию <a href="http://msdn.microsoft.com/en-us/library/ms189499.aspx">SELECT</a>, которая позволяет делать выборку одной или нескольких строк или столбцов из одной или нескольких таблиц базы данных. Запрос строится "как есть": в запрос добавляются колонки, указываются источники данных, накладываются фильтры и условия. Результаты выполнения запроса возвращаются в виде экземпляра <a href="http://msdn.microsoft.com/en-us/library/system.data.idatareader.aspx">IDataReader</a>. Ниже приведен пример использования класса <a href="select-klass.html">Select</a> для получения набора контактов (пример 1).</p>

<div style="WIDTH: 100%">
    <table class="hs-box"><tbody><tr><td class="hs-box-icon" valign="top"><img src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/hs-caution.gif" /></td>

                <td class="hs-box-content" valign="top">
                    <p>Для успешной компиляции приведенных ниже примеров в проект должны быть добавлены директивы using:</p>

                    <div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
                        <pre>
<span style="COLOR: #0000ff">using</span> System;
<span style="COLOR: #0000ff">using</span> System.Collections.Generic;
<span style="COLOR: #0000ff">using</span> System.Collections.ObjectModel;
<span style="COLOR: #0000ff">using</span> System.Data;
<span style="COLOR: #0000ff">using</span> Terrasoft.Common;
<span style="COLOR: #0000ff">using</span> Terrasoft.Core;
<span style="COLOR: #0000ff">using</span> Terrasoft.Core.DB;
<span style="COLOR: #0000ff">using</span> Terrasoft.Core.Entities; 
</pre>
                    </div>
                </td>
            </tr></tbody></table></div>

<h4>Пример 1</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса, добавление в запрос колонок и источника данных.
</span>Select selectQuery = <span style="COLOR: #0000ff">new</span> Select(UserConnection)
                    .Column(<span style="COLOR: #800000">"Id"</span>)
                    .Column(<span style="COLOR: #800000">"Name"</span>)
                    .From(<span style="COLOR: #800000">"Contact"</span>);
<span style="COLOR: #008000">// Выполнение запроса к базе данных и получение результирующего набора данных.
</span><span style="COLOR: #0000ff">using</span> (DBExecutor dbExecutor = UserConnection.EnsureDBConnection())
{
    <span style="COLOR: #0000ff">using</span> (IDataReader reader = selectQuery.ExecuteReader(dbExecutor))
    {
        <span style="COLOR: #0000ff">while</span> (reader.Read())
        {
            <span style="COLOR: #008000">// Обработка результатов запроса.
</span>        }
    }
} 
</pre>
</div>

<p>Класс <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> обладает функциональностью, аналогичной <a href="select-klass.html">Select</a>, которая расширена дополнительными возможностями по управлению правами доступа и работе с хранилищем (кэшем) bpm'online. По сути, <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> является функционально расширенной надстройкой над классом <a href="select-klass.html">Select</a>. В конечном итоге все дополнительные свойства и параметры <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> проецируются на экземпляр <a href="select-klass.html">Select</a>, который возвращает результирующий набор данных. </p>

<p>Метод <a href="getselectquery-metod.html">GetSelectQuery()</a> возвращает экземпляр <a href="select-klass.html">Select</a>, ассоциированный с конкретным запросом <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> (пример 2).</p>

<h4>Пример 2</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса EntitySchemaQuery.
</span>EntitySchemaQuery esq = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"SomeSchema"</span>);
esq.AddColumn(<span style="COLOR: #800000">"SomeColumn"</span>);

<span style="COLOR: #008000">// Получение экземпляра Select, ассоциированного с созданным запросом EntitySchemaQuery.
</span>Select selectEsq = esq.GetSelectQuery(UserConnection); 
</pre>
</div>

<p>Результатом выполнения запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> является коллекция сущностей bpm'online – коллекция экземпляров класса Entity (экземпляр EntityCollection). Каждый экземпляр Entity в коллекции представляет собой строку набора данных, возвращаемого запросом. Получить результаты выполнения запроса можно следующими способами (пример 3):</p>

<ul><li>Получить весь результирующий набор данных, вызвав метод <a href="getentitycollection-metod.html">GetEntityCollection</a>.</li>

    <li>Получить конкретную строку набора данных по заданному первичному ключу, вызвав метод <a href="getentity-metod.html">GetEntity</a>.</li>
</ul><h4>Пример 3</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание запроса к схеме City, добавление в запрос колонки Name.
</span><span style="COLOR: #0000ff">var</span> esqResult = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);
esqResult.AddColumn(<span style="COLOR: #800000">"Name"</span>);

<span style="COLOR: #008000">// Выполнение запроса к базе данных и получение всей результирующей коллекции объектов.
</span><span style="COLOR: #0000ff">var</span> entities = esqResult.GetEntityCollection(UserConnection);

<span style="COLOR: #008000">// Выполнение запроса к базе данных и получение объекта с заданным идентификатором.
</span><span style="COLOR: #0000ff">var</span> entity = esqResult.GetEntity(UserConnection, <span style="COLOR: #0000ff">new</span> Guid(<span style="COLOR: #800000">"100B6B13-E8BB-DF11-B00F-001D60E938C6"</span>));
</pre>
</div>

<p><em>Основными особенностями</em> <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> являются:</p>

<p>1) Поддержка прав доступа</p>

<p>Запрос на выборку данных <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> строится таким образом, чтобы учитывать права текущего пользователя. То есть, в результирующий набор попадут только те данные, к которым текущий пользователь имеет доступ согласно его правам. Это обеспечивается за счет наложения дополнительных фильтров (условий) при формировании результирующего запроса к базе. Дополнительно для <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> можно регулировать условия наложения прав на связанные таблицы, присутствующие в запросе (которые присоединяются к запросу предложением JOIN). Эти условия определяются значением свойства <a href="joinrightstate-svoystvo.html">JoinRightState</a> экземпляра <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>. Более подробно об условиях наложения прав на связанные таблицы запроса изложено ниже.</p>

<p>2) Механизм кеширования</p>

<p>В <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> реализован механизм работы с хранилищем (кэшем bpm'online либо произвольным хранилищем, определенным пользователем). Работа с кэшем позволяет оптимизировать эффективность выполнения операций за счет обращения к закэшированным результатам запроса без дополнительного обращения к базе данных. При выполнении запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> данные, полученные из базы данных на сервере, помещаются в кэш, который определяется свойством <a href="cache-svoystvo.html">Cache</a> с ключом, который задается свойством <a href="cacheitemname-svoystvo.html">CacheItemName</a>. По умолчанию в качестве кэша запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> выступает кэш bpm'online уровня сессии (данные доступны только в сессии текущего пользователя) с локальным хранением данных. В общем случае в качестве кэша запроса может выступать произвольное хранилище, которое реализует интерфейс <a href="icachestore-interfeys.html">ICacheStore</a>. Пример работы с кэшем запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> приведен ниже (пример 4).</p>

<h4>Пример 4</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание запроса к схеме City, добавление в запрос колонки Name.
</span><span style="COLOR: #0000ff">var</span> esqResult = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);
esqResult.AddColumn(<span style="COLOR: #800000">"Name"</span>);

<span style="COLOR: #008000">// Определение ключа, под которым в кэше будут храниться результаты выполнения запроса.
// В качестве кэша выступает кэш BPMonline уровня сессии с локальным кэшированием данных (так как не 
// переопределяется свойство Cache объекта).
</span>esqResult.CacheItemName = <span style="COLOR: #800000">"EsqResultItem"</span>;

<span style="COLOR: #008000">// Коллекция, в которую будут помещены результаты выполнения запроса.
</span><span style="COLOR: #0000ff">var</span> esqCityNames = <span style="COLOR: #0000ff">new</span> Collection&lt;<span style="COLOR: #0000ff">string</span>&gt;();

<span style="COLOR: #008000">// Коллекция, в которую будут помещаться закэшированные результаты выполнения запроса.
</span><span style="COLOR: #0000ff">var</span> cachedEsqCityNames = <span style="COLOR: #0000ff">new</span> Collection&lt;<span style="COLOR: #0000ff">string</span>&gt;();

<span style="COLOR: #008000">// Выполнение запроса к базе данных и получение результирующей коллекции объектов.
// После выполнения этой операции результаты запроса будут помещены в кэш.
</span><span style="COLOR: #0000ff">var</span> entities = esqResult.GetEntityCollection(UserConnection);

<span style="COLOR: #008000">// Обработка результатов выполнения запроса и заполнение коллекции esqCityNames.
</span><span style="COLOR: #0000ff">foreach</span> (<span style="COLOR: #0000ff">var</span> entity <span style="COLOR: #0000ff">in</span> entities)
{
    esqCityNames.Add(entity.GetTypedColumnValue&lt;<span style="COLOR: #0000ff">string</span>&gt;(<span style="COLOR: #800000">"Name"</span>));
}

<span style="COLOR: #008000">// Получение ссылки на кэш запроса esqResult по ключу CacheItemName виде таблицы данных в памяти.
</span><span style="COLOR: #0000ff">var</span> esqCacheStore = esqResult.Cache[esqResult.CacheItemName] <span style="COLOR: #0000ff">as</span> DataTable;

<span style="COLOR: #008000">// Заполнение коллекции cachedEsqCityNames значениями из кэша запроса.
</span><span style="COLOR: #0000ff">if</span> (esqCacheStore != <span style="COLOR: #0000ff">null</span>)
{
    <span style="COLOR: #0000ff">foreach</span> (DataRow row <span style="COLOR: #0000ff">in</span> esqCacheStore.Rows)
    {
        cachedEsqCityNames.Add(row[0].ToString());
    }
} 
</pre>
</div>

<p>3) Дополнительные настройки запроса</p>

<p>Для запросов <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> можно определить дополнительные настройки, которые задают параметры для постраничного вывода результатов выполнения запроса, а также параметры построения иерархического запроса. Для этих целей предназначен класс <a href="entityschemaqueryoptions-klass.html">EntitySchemaQueryOptions</a>. Свойства этого класса позволяют определить:</p>

<ul><li><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto">Имя колонки, использующейся для построения иерархического запроса (свойство <a href="hierarchicalcolumnname-svoystvo.html" data-auto-update-caption="true">HierarchicalColumnName</a>);</span></li>

    <li><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto">Начальное значение иерархической колонки, от которого будет строиться иерархия (свойство <a href="hierarchicalcolumnvalue-svoystvo.html">HierarchicalColumnValue</a>);</span></span></li>

    <li><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto">Максимальный уровень вложенности иерархического запроса (свойство <a href="hierarchicalmaxdepth-svoystvo.html" data-auto-update-caption="true">HierarchicalMaxDepth</a>);</span></span></span></li>

    <li><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto">Значения условий постраничного вывода (свойство <a href="pageableconditionvalues-svoystvo.html" data-auto-update-caption="true">PageableConditionValues</a>);</span></span></span></span></li>

    <li><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto">Направление постраничного вывода (свойство <a href="pageabledirection-svoystvo.html" data-auto-update-caption="true">PageableDirection</a>);</span></span></span></span></span></li>

    <li><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto"><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(76,76,76); FONT: 13px &quot;Segoe UI&quot;, Verdana, Arial; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; font-size-adjust: none; font-stretch: normal; -webkit-text-size-adjust: auto">Количество записей страницы результирующего набора данных, возвращаемого запросом (свойство <a href="pageablerowcount-svoystvo.html" data-auto-update-caption="true">PageableRowCount</a>).</span></span></span></span></span></span></li>
</ul><p>Один и тот же экземпляр <a href="entityschemaqueryoptions-klass.html">EntitySchemaQueryOptions</a> можно использовать для получения результатов выполнения различных запросов, передавая его в качестве параметра методу <a href="getentitycollection-metod.html">GetEntityCollection</a>() соответствующего запроса (пример 5).</p>

<h4>Пример 5</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса с корневой схемой City.
</span><span style="COLOR: #0000ff">var</span> esqCities = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);
esqCities.AddColumn(<span style="COLOR: #800000">"Name"</span>);

<span style="COLOR: #008000">// Создание запроса с корневой схемой Country.
</span><span style="COLOR: #0000ff">var</span> esqCountries = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"Country"</span>);
esqCountries.AddColumn(<span style="COLOR: #800000">"Name"</span>);

<span style="COLOR: #008000">// Создание экземпляра настроек для возврата запросом первых 5 строк.
</span><span style="COLOR: #0000ff">var</span> esqOptions = <span style="COLOR: #0000ff">new</span> EntitySchemaQueryOptions()
{
    PageableDirection = PageableSelectDirection.First,
    PageableRowCount = 5,
    PageableConditionValues = <span style="COLOR: #0000ff">new</span> Dictionary&lt;<span style="COLOR: #0000ff">string</span>, <span style="COLOR: #0000ff">object</span>&gt;()
};

<span style="COLOR: #008000">// Получение коллекции городов, которая будет содержать первые 5 городов результирующего набора данных.
</span><span style="COLOR: #0000ff">var</span> cities = esqCities.GetEntityCollection(UserConnection, esqOptions);

<span style="COLOR: #008000">// Получение коллекции стран, которая будет содержать первые 5 стран результирующего набора данных.
</span><span style="COLOR: #0000ff">var</span> countries = esqCountries.GetEntityCollection(UserConnection, esqOptions); 
</pre>
</div>

<h2>Понятие корневой схемы. Построение путей к колонкам относительно корневой схемы. Примеры.</h2>

<p>Отправной точкой механизма построения запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> является <em>корневая схема</em>.</p>

<p><em>Корневая схема</em> – это схема (таблица в базе данных), относительно которой строятся пути ко всем колонкам в запросе, в том числе к колонкам присоединяемых таблиц.</p>

<p>При построении путей к колонкам применяется принцип обратной связи. Имя произвольной колонки, добавляемой в запрос, можно построить в виде цепочки взаимосвязанных звеньев, каждое из которых представляет собой "контекст" конкретной схемы, которая связывается с предыдущей по внешнему ключу (рис. 1).</p>

<p class="PictureCaption">Рис. 1. Взаимосвязи схем по внешним ключам</p>

<p><img border="0" alt="" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/Screenshots/UsingEntitySchemaQuery/src_UsingEntitySchemaQuery1_ru.jpg" /> </p>

<p>В общем случае формат построения имени произвольной колонки из схемы N можно представить в следующем виде:</p>

<p><strong>[Контекст схемы 1].[...].[Контекст схемы N].[Имя_колонки]</strong> </p>

<p>Для того, чтобы в запрос добавить колонку из произвольной таблицы по обратным связям, необходимо корректно построить путь к этой колонке. Ниже рассмотрены различные варианты добавления колонок в запрос и примеры формирования имени к колонке в каждом варианте. Для всех приведенных ниже примеров в качестве корневой схемы выступает схема City.</p>

<h5>1) Колонка корневой схемы</h5>

<p>В этом случае имя колонки строится как <strong>[Имя колонки в корневой схеме].</strong></p>

<ul><li>Пример: колонка с именем города</li>

    <li>Имя колонки: Name</li>

    <li>Пример создания запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>, возвращающего значения этой колонки:</li>
</ul><div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса EntitySchemaQuery с корневой схемой "City".
</span><span style="COLOR: #0000ff">var</span> esqQuery = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);

<span style="COLOR: #008000">// Добавление в запрос колонки с именем города.
</span>esqQuery.AddColumn(<span style="COLOR: #800000">"Name"</span>);

<span style="COLOR: #008000">// Получение текста результирующего sql-запроса.
</span><span style="COLOR: #0000ff">string</span> esqSqlText = esqQuery.GetSelectQuery(UserConnection).GetSqlText(); 
</pre>
</div>

<ul><li>Результирующий sql-запрос (MS SQL):</li>
</ul><div id="Syntax_sql" class="LanguageSpecific" data-title="sql" data-itemid="sql">
    <pre>
<span style="COLOR: #0000ff">SELECT</span>
<span style="COLOR: #ff0000">[City]</span>.<span style="COLOR: #ff0000">[Name]</span> <span style="COLOR: #ff0000">[Name]</span>
<span style="COLOR: #0000ff">FROM</span>
<span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[City]</span> <span style="COLOR: #ff0000">[City]</span>
</pre>
</div>

<h5>2) Колонка схемы, на которую ссылается колонка-справочник текущей схемы</h5>

<p>Имя колонки строится по принципу <strong>[Имя колонки-справочника].[Имя колонки схемы, на которую ссылается справочник]</strong>.</p>

<p>При этом в результирующем запросе к корневой схеме City оператором JOIN (по умолчанию – LEFT OUTER JOIN) будет присоединена схема Country. Условие присоединения (условие ON оператора JOIN) формируется по следующему принципу:</p>

<p>[Имя присоединяемой схемы].[Id] = [Имя корневой схемы].[Имя колонки, которая ссылается на присоединяемую схему + Id]</p>

<ul><li>Пример: колонка с наименованием страны, которой принадлежит город</li>

    <li>Имя колонки: Country.Name</li>

    <li>Пример создания запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>, возвращающего значения этой колонки:</li>
</ul><div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса EntitySchemaQuery с корневой схемой "City".
</span><span style="COLOR: #0000ff">var</span> esqQuery = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);

<span style="COLOR: #008000">// Добавление в запрос колонки с наименованием страны, которой принадлежит город.
</span>esqQuery.AddColumn(<span style="COLOR: #800000">"Country.Name"</span>);

<span style="COLOR: #008000">// Получение текста результирующего sql-запроса.
</span><span style="COLOR: #0000ff">string</span> esqSqlText = esqQuery.GetSelectQuery(UserConnection).GetSqlText();  
</pre>
</div>

<ul><li>Результирующий sql-запрос (MS SQL):</li>
</ul><div id="Syntax_sql" class="LanguageSpecific" data-title="sql" data-itemid="sql">
    <pre>
<span style="COLOR: #0000ff">SELECT</span>
 <span style="COLOR: #ff0000">[Country]</span>.<span style="COLOR: #ff0000">[Name]</span> <span style="COLOR: #ff0000">[Country.Name]</span>
<span style="COLOR: #0000ff">FROM</span>
 <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[City]</span> <span style="COLOR: #ff0000">[City]</span>
 <span style="COLOR: #808080">LEFT</span> <span style="COLOR: #808080">OUTER</span> <span style="COLOR: #808080">JOIN</span> <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[Country]</span> <span style="COLOR: #ff0000">[Country]</span> <span style="COLOR: #0000ff">ON</span> (<span style="COLOR: #ff0000">[Country]</span>.<span style="COLOR: #ff0000">[Id]</span> <span style="COLOR: #808080">=</span> <span style="COLOR: #ff0000">[City]</span>.<span style="COLOR: #ff0000">[CountryId]</span>)
</pre>
</div>

<p>В общем случае, можно продолжать построение цепочки обратных связей далее.</p>

<ul><li>Пример: получить имя контакта, который добавил страну конкретного города</li>

    <li>Имя колонки: Country.CreatedBy.Name</li>

    <li>Пример создания запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>, возвращающего значения этой колонки:</li>
</ul><div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса EntitySchemaQuery с корневой схемой "City".
</span><span style="COLOR: #0000ff">var</span> esqQuery = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);

<span style="COLOR: #008000">// Добавление в запрос колонки с именем контакта, который добавил страну конкретного города.
</span>esqQuery.AddColumn(<span style="COLOR: #800000">"Country.CreatedBy.Name"</span>);

<span style="COLOR: #008000">// Получение текста результирующего sql-запроса.
</span><span style="COLOR: #0000ff">string</span> esqSqlText = esqQuery.GetSelectQuery(UserConnection).GetSqlText();   
</pre>
</div>

<ul><li>Результирующий sql-запрос (MS SQL):</li>
</ul><div id="Syntax_sql" class="LanguageSpecific" data-title="sql" data-itemid="sql">
    <pre>
<span style="COLOR: #0000ff">SELECT</span>
 <span style="COLOR: #ff0000">[CreatedBy]</span>.<span style="COLOR: #ff0000">[Name]</span> <span style="COLOR: #ff0000">[CreatedBy.Name]</span>
<span style="COLOR: #0000ff">FROM</span>
 <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[City]</span> <span style="COLOR: #ff0000">[City]</span>
 <span style="COLOR: #808080">LEFT</span> <span style="COLOR: #808080">OUTER</span> <span style="COLOR: #808080">JOIN</span> <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[Country]</span> <span style="COLOR: #ff0000">[Country]</span> <span style="COLOR: #0000ff">ON</span> (<span style="COLOR: #ff0000">[Country]</span>.<span style="COLOR: #ff0000">[Id]</span> <span style="COLOR: #808080">=</span> <span style="COLOR: #ff0000">[City]</span>.<span style="COLOR: #ff0000">[CountryId]</span>)
 <span style="COLOR: #808080">LEFT</span> <span style="COLOR: #808080">OUTER</span> <span style="COLOR: #808080">JOIN</span> <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[Contact]</span> <span style="COLOR: #ff0000">[CreatedBy]</span> <span style="COLOR: #0000ff">ON</span> (<span style="COLOR: #ff0000">[CreatedBy]</span>.<span style="COLOR: #ff0000">[Id]</span> <span style="COLOR: #808080">=</span> <span style="COLOR: #ff0000">[Country]</span>.<span style="COLOR: #ff0000">[CreatedById]</span>)
</pre>
</div>

<h5>3) Колонка схемы по произвольному внешнему ключу</h5>

<p>Имя колонки строится по принципу <strong>[Имя_присоединяемой_схемы:Имя_колонки_для_связи_присоединяемой_схемы:Имя_колонки_для_связи_текущей_схемы]</strong>.</p>

<p>Если в качестве колонки для связи у текущей схемы выступает колонка Id, то в этом случае ее можно опустить, то есть имя колонки будет выглядеть следующим образом:</p>

<p><strong>[Имя_присоединяемой_схемы:Имя_колонки_для_связи_присоединяемой_схемы]</strong>.</p>

<ul><li>Пример: колонка с именем контакта, который добавил город</li>

    <li>Имя колонки: [Contact:Id:CreatedBy].Name</li>

    <li>Пример создания запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>, возвращающего значения этой колонки:</li>
</ul><div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса EntitySchemaQuery с корневой схемой "City".
</span><span style="COLOR: #0000ff">var</span> esqQuery = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);

<span style="COLOR: #008000">// Добавление в запрос колонки с именем контакта, который добавил город.
</span>esqQuery.AddColumn(<span style="COLOR: #800000">"[Contact:Id:CreatedBy].Name"</span>);

<span style="COLOR: #008000">// Получение текста результирующего sql-запроса.
</span><span style="COLOR: #0000ff">string</span> esqSqlText = esqQuery.GetSelectQuery(UserConnection).GetSqlText(); 
</pre>
</div>

<ul><li>Результирующий sql-запрос (MS SQL):</li>
</ul><div id="Syntax_sql" class="LanguageSpecific" data-title="sql" data-itemid="sql">
    <pre>
<span style="COLOR: #0000ff">SELECT</span>
 <span style="COLOR: #ff0000">[Contact]</span>.<span style="COLOR: #ff0000">[Name]</span> <span style="COLOR: #ff0000">[Contact.Name]</span>
<span style="COLOR: #0000ff">FROM</span>
 <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[City]</span> <span style="COLOR: #ff0000">[City]</span>
 <span style="COLOR: #808080">LEFT</span> <span style="COLOR: #808080">OUTER</span> <span style="COLOR: #808080">JOIN</span> <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[Contact]</span> <span style="COLOR: #ff0000">[Contact]</span> <span style="COLOR: #0000ff">ON</span> (<span style="COLOR: #ff0000">[Contact]</span>.<span style="COLOR: #ff0000">[Id]</span> <span style="COLOR: #808080">=</span> <span style="COLOR: #ff0000">[City]</span>.<span style="COLOR: #ff0000">[CreatedById]</span>)
</pre>
</div>

<p>В общем случае можно строить имена колонок по цепочкам обратных связей произвольной длины. В примере ниже рассматривается альтернативный вариант построения имени для колонки с именем контакта, добавившего страну конкретного города (см. п. 2).</p>

<ul><li>Пример: колонка с именем контакта, добавившего страну конкретного города</li>

    <li>Имя колонки: Country.[Contact:Id:CreatedBy].Name</li>

    <li>Пример создания запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>, возвращающего значения этой колонки:</li>
</ul><div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса EntitySchemaQuery с корневой схемой "City".
</span><span style="COLOR: #0000ff">var</span> esqQuery = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);

<span style="COLOR: #008000">// Добавление в запрос колонки с именем контакта, добавившего страну конкретного города.
</span>esqQuery.AddColumn(<span style="COLOR: #800000">"Country.[Contact:Id:CreatedBy].Name"</span>);

<span style="COLOR: #008000">// Получение текста результирующего sql-запроса.
</span><span style="COLOR: #0000ff">string</span> esqSqlText = esqQuery.GetSelectQuery(UserConnection).GetSqlText();
</pre>
</div>

<ul><li>Результирующий sql-запрос (MS SQL):</li>
</ul><div id="Syntax_sql" class="LanguageSpecific" data-title="sql" data-itemid="sql">
    <pre>
<span style="COLOR: #0000ff">SELECT</span>
 <span style="COLOR: #ff0000">[Contact]</span>.<span style="COLOR: #ff0000">[Name]</span> <span style="COLOR: #ff0000">[Contact.Name]</span>
<span style="COLOR: #0000ff">FROM</span>
 <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[City]</span> <span style="COLOR: #ff0000">[City]</span>
 <span style="COLOR: #808080">LEFT</span> <span style="COLOR: #808080">OUTER</span> <span style="COLOR: #808080">JOIN</span> <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[Country]</span> <span style="COLOR: #ff0000">[Country]</span> <span style="COLOR: #0000ff">ON</span> (<span style="COLOR: #ff0000">[Country]</span>.<span style="COLOR: #ff0000">[Id]</span> <span style="COLOR: #808080">=</span> <span style="COLOR: #ff0000">[City]</span>.<span style="COLOR: #ff0000">[CountryId]</span>)
 <span style="COLOR: #808080">LEFT</span> <span style="COLOR: #808080">OUTER</span> <span style="COLOR: #808080">JOIN</span> <span style="COLOR: #ff0000">[dbo]</span>.<span style="COLOR: #ff0000">[Contact]</span> <span style="COLOR: #ff0000">[Contact]</span> <span style="COLOR: #0000ff">ON</span> (<span style="COLOR: #ff0000">[Contact]</span>.<span style="COLOR: #ff0000">[Id]</span> <span style="COLOR: #808080">=</span> <span style="COLOR: #ff0000">[Country]</span>.<span style="COLOR: #ff0000">[CreatedById]</span>)
</pre>
</div>

<h1>Добавление колонок в запрос</h1>

<p>Колонка запроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> представляет собой экземпляр класса <a href="entityschemaquerycolumn-klass.html">EntitySchemaQueryColumn</a>. В свойствах экземпляра колонки можно указать ее основные характеристики: заголовок, значение для отображения, различные признаки ее использования, порядок и позицию сортировки и т.д. Полный перечень свойств и методов класса <a href="entityschemaquerycolumn-klass.html">EntitySchemaQueryColumn</a> приведен в соответствующем разделе описания классов SDK.</p>

<p>Для добавления колонок в запрос предназначен метод <a href="addcolumn-metod-0.html" data-auto-update-caption="true">AddColumn()</a>, который возврщает экземпляр добавленной в запрос колонки. Имя колонки относительно корневой схемы в методах <a href="addcolumn-metod-0.html" data-auto-update-caption="true">AddColumn()</a> формируется согласно правилам, описанным выше. Данный метод имеет ряд перегрузок, что позволяет добавлять в запрос колонки с различными параметрами (табл. 1).</p>

<p class="PictureCaption">Табл. 1. Список перегрузок метода AddColumn()</p>

<table><tbody><tr><th width="300">Перегрузка</th>

            <th>Описание</th>
        </tr><tr><td width="300"><a href="addcolumnstringaggregationtypestrictentityschemaquery-metod.html">EntitySchemaQuery.AddColumn(String,AggregationTypeStrict,EntitySchemaQuery)</a></td>

            <td>Создает и добавляет колонку в запрос к схеме объекта в виде подзапроса, возвращающего результат указанной агрегирующей функции, по пути к колонке схемы относительно корневой схемы.</td>
        </tr><tr><td><a href="addcolumnentityschemaquerycolumn-metod.html">EntitySchemaQuery.AddColumn(EntitySchemaQueryColumn)</a></td>

            <td>Добавляет переданную колонку в коллекцию колонок запроса к схеме объекта.</td>
        </tr><tr><td><a href="addcolumnstring-metod-0.html">EntitySchemaQuery.AddColumn(String)</a></td>

            <td>Создает и добавляет колонку в запрос к схеме объекта по заданному пути к колонке относительно корневой схемы.</td>
        </tr><tr><td><a href="addcolumnentityschemaqueryfunction-metod.html">EntitySchemaQuery.AddColumn(EntitySchemaQueryFunction)</a></td>

            <td>Создает и добавляет колонку в запрос к схеме объекта по переданной функции.</td>
        </tr><tr><td><a href="addcolumnobjectdatavaluetype-metod.html">EntitySchemaQuery.AddColumn(Object,DataValueType)</a></td>

            <td>Создает и добавляет в запрос к схеме объекта колонку типа "параметр" с заданным значением определенного типа.</td>
        </tr><tr><td><a href="addcolumnentityschemaquery-metod.html">EntitySchemaQuery.AddColumn(EntitySchemaQuery)</a></td>

            <td>Создает и добавляет в качестве колонки запроса к схеме объекта переданный экземпляр подзапроса <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>.</td>
        </tr></tbody></table><h1>Особенности использования присоединенных таблиц</h1>

<h2>Типы JOIN присоединенных таблиц</h2>

<p>При добавлении в запрос колонки из схемы, отличной от корневой, эта схема добавляется в запрос посредством оператора JOIN. При этом по умолчанию применяется тип присоединения LEFT OUTER. <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> <a href="entityschemaquerycolumn-klass.html"></a>позволяет при добавлении колонки некорневой схемы указать тип присоединения этой схемы к запросу. Для этого достаточно указать имя колонки в следующем формате:</p>

<p><strong>[Спецсимвол типа соединения][Имя колонки]</strong></p>

<p><a href="entityschemaquery-klass.html">EntitySchemaQuery</a> <a href="entityschemaquerycolumn-klass.html"></a>поддерживает следующие типы соединений, которым соответствуют символы, приведенные в таблице 2.</p>

<p class="PictureCaption">Табл. 2. Типы JOIN присоединенных схем</p>

<table><tbody><tr><th>Тип соединения</th>

            <th>Спецсимвол типа соединения</th>

            <th>Пример имени колонки</th>
        </tr><tr><td>INNER JOIN</td>

            <td>"="</td>

            <td>"=Name"</td>
        </tr><tr><td>LEFT OUTER JOIN</td>

            <td>"&gt;"</td>

            <td>"&gt;Name"</td>
        </tr><tr><td>RIGHT OUTER JOIN</td>

            <td>"&lt;"</td>

            <td>"&lt;Name"</td>
        </tr><tr><td>FULL OUTER JOIN</td>

            <td>"&lt;&gt;"</td>

            <td>"&lt;&gt;Name"</td>
        </tr><tr><td>CROSS JOIN</td>

            <td>"*"</td>

            <td>"*Name"</td>
        </tr></tbody></table><p>Ниже приведен пример добавления в запрос колонок, используя различные типы соединения схем.</p>

<h4>Пример 6</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса с корневой схемой City.
</span><span style="COLOR: #0000ff">var</span> esqResult = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);

<span style="COLOR: #008000">// К запросу будет добавлена схема Country с типом присоединения LEFT OUTER JOIN.
</span>esqResult.AddColumn(<span style="COLOR: #800000">"Country.Name"</span>);

<span style="COLOR: #008000">// К запросу будет добавленв схема Country с типом присоединения INNER JOIN.
</span>esqResult.AddColumn(<span style="COLOR: #800000">"=Country.Name"</span>);

<span style="COLOR: #008000">// К запросу будут присоединены две схемы:
// 1) схема Country с типом присоединения LEFT OUTER JOIN;
// 2) схема Contact с типом присоединения RIGHT OUTER JOIN.
</span>esqResult.AddColumn(<span style="COLOR: #800000">"&gt;Country.&lt;CreatedBy.Name"</span>);

<span style="COLOR: #008000">// Текст результирующего sql-запроса (MS SQL):
</span>
<span style="COLOR: #008000">// SELECT
//            [Country].[Name] [Country.Name],
//            [Country1].[Name] [Country1.Name],
//            [CreatedBy].[Name] [CreatedBy.Name]
// FROM
//            [dbo].[City] [City]
//            LEFT OUTER JOIN [dbo].[Country] [Country] ON ([Country].[Id] = [City].[CountryId])
//            INNER JOIN [dbo].[Country] [Country1] ON ([Country1].[Id] = [City].[CountryId])
//            LEFT OUTER JOIN [dbo].[Country] [Country2] ON ([Country2].[Id] = [City].[CountryId])
//            RIGHT OUTER JOIN [dbo].[Contact] [CreatedBy] ON ([CreatedBy].[Id] = [Country2].[CreatedById])  </span>
</pre>
</div>

<h1>Наложение прав доступа на присоединенные схемы</h1>

<p>Если корневая схема запроса администрируется по записям и в запросе присутствуют присоединяемые схемы, то к ним могут быть применены права доступа текущего пользователя. В таблице 3 приведены все возможные варианты наложения прав доступа к присоединенным схемам. Эти значения соответствуют членам перечисления <a href="terrasoftcoredbqueryjoinrightlevel.html">Terrasoft.Core.DB.QueryJoinRightLevel</a>.</p>

<p class="PictureCaption">Табл. 3. Варианты наложения прав доступа к присоединяемым схемам запроса</p>

<table><tbody><tr><th width="300">Значение члена перечисления</th>

            <th>Порядок наложения прав доступа</th>
        </tr><tr><td width="300">EnabledAlways = 0</td>

            <td>Всегда накладывать права доступа.</td>
        </tr><tr><td width="300">EnabledForAdditionalColumns = 1</td>

            <td>Накладывать права в том случае, если из связанной схемы в запросе используются колонки, отличные от первичной (PrimaryColumn) и первичной для отображения.</td>
        </tr><tr><td>Disabled = 2</td>

            <td>Не накладывать права доступа.</td>
        </tr></tbody></table><p>Порядок применения прав доступа определяется значением свойства <a href="joinrightstate-svoystvo.html">JoinRightState</a> запроса. Значение этого свойства по умолчанию определяется системной настройкой QueryJoinRightLevel, которая принимает значения согласно табл. 3. Если значение этой системной настройки не задано, то ее значение по умолчанию принимается равным EnabledForAdditionalColumns.</p>

<h1>Работа с фильтрами EntitySchemaQuery</h1>

<h2>Понятие фильтра EntitySchemaQuery и его структура</h2>

<p><em>Фильтр</em> - это набор условий, применяемых при отображении данных запроса. В терминах SQL фильтр представляет собой отдельный предикат (условие) оператора WHERE.</p>

<p>Любой фильтр как условие запроса имеет свою структуру (рис. 2).</p>

<p class="PictureCaption">Рис. 2. Структура фильтра EntitySchemaQuery </p>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
Filter = {[AggregationType] {&lt;LeftExpression&gt; | &lt;LeftExpressionColumnPath&gt;}
               &lt;ComparisionType&gt;
               {{&lt;RightExpression&gt; | {&lt;RightExpressionColumnPath&gt;,...}} | {&lt;Macros&gt;, [MacrosValue]}}
              }
</pre>
</div>

<p>Основные составляющие фильтра <a href="entityschemaquery-klass.html">EntitySchemaQuery</a>:</p>

<ul><li><em>AggregationType</em> – тип агрегирующей функции, которая применяется к выражению в левой части условия. Необязательная составляющая фильтра. Задается значениями перечисления <a href="filteraggregationtype-perechislenie.html" data-auto-update-caption="true">FilterAggregationType</a>.</li>

    <li><em>LeftExpression</em> – выражение в левой части фильтра. Задается экземпляром типа <a href="entityschemaqueryexpression-klass.html" data-auto-update-caption="true">EntitySchemaQueryExpression</a>.</li>

    <li><em>LeftExpressionColumnPath</em> – путь к колонке, которая содержит выражение левой части фильтра. Задается строковым значением.</li>

    <li><em>ComparisionType</em> – тип сравнения выражений в фильтре. Задается значением перечисления <a href="filtercomparisontype-perechislenie.html" data-auto-update-caption="true">FilterComparisonType</a>.</li>

    <li><em>RightExpression</em> – выражение в правой части фильтра. Задается экземпляром типа <a href="entityschemaqueryexpression-klass.html" data-auto-update-caption="true">EntitySchemaQueryExpression</a>.</li>

    <li><em>RightExpressionColumnPath</em> – путь к колонке, которая содержит выражение правой части фильтра. Задается строковым значением.</li>

    <li><em>Macros</em> – макрос, который возвращает выражение для правой части фильтра. Задается значением перечисления <a href="entityschemaquerymacrostype-perechislenie.html" data-auto-update-caption="true">EntitySchemaQueryMacrosType.</a> </li>

    <li><em>MacrosValue</em> - значение, которое передается в качестве параметра макросу <em>Macros</em>. Необязательный параметр. Задается экземплярами значений различных типов в зависимости от типа вызываемого макроса.   </li>
</ul><h2>Создание и применение фильтров в EntitySchemaQuery</h2>

<p>Для создания простого фильтра (рис. 2) в <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> используется метод <a href="createfilter-metod.html">CreateFilter()</a>, который возвращает экземпляр типа <a href="entityschemaqueryfilter-klass.html" data-auto-update-caption="true">EntitySchemaQueryFilter</a>. Для этого метода в <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> реализован ряд перегрузок, что позволяет создавать фильтры с различными исходными параметрами. В bpm'online SDK приведен <a href="createfilter-metod.html">полный список перегрузок метода CreateFilter()</a> с примерами реализации.</p>

<p>Наряду с простыми фильтрами, в <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> реализованы методы создания фильтров специального вида (табл. 4).</p>

<p class="PictureCaption">Табл. 4. Методы EntitySchemaQuery для создания фильтров специального вида</p>

<table><tbody><tr><th width="300">Метод создания фильтра</th>

            <th>Описание</th>
        </tr><tr><td><a href="createfilterwithparameters-metod.html">CreateFilterWithParameters()</a></td>

            <td>Создает параметризированный фильтр для выборки записей по определенным условиям. Перегруженный метод.</td>
        </tr><tr><td><a href="createisnullfilter-metod.html">CreateIsNullFilter()</a></td>

            <td>Создает фильтр сравнения типа [Является null в базе данных].</td>
        </tr><tr><td><a href="createisnotnullfilter-metod.html">CreateIsNotNullFilter()</a></td>

            <td>Создает фильтр сравнения типа [Не является null в базе данных].</td>
        </tr><tr><td><a href="createexistsfilter-metod.html" data-auto-update-caption="true">СreateExistsFilter()</a></td>

            <td>Создает фильтр сравнения типа [Существует по заданному условию].</td>
        </tr><tr><td><a href="createnotexistsfilter-metod.html">CreateNotExistsFilter()</a></td>

            <td>Создает фильтр сравнения типа [Не существует по заданному условию].</td>
        </tr></tbody></table><p> </p>

<p>Экземпляр <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> имеет свойство <a href="filters-svoystvo.html" data-auto-update-caption="true">Filters</a>, которое представляет собой коллекцию фильтров данного запроса (экземпляр класса <a href="entityschemaqueryfiltercollection-klass.html" data-auto-update-caption="true">EntitySchemaQueryFilterCollection</a>, который, в свою очередь, представляет собой классическую типизированную коллекцию элементов <a href="ientityschemaqueryfilteritem-interfeys.html" data-auto-update-caption="true">IEntitySchemaQueryFilterItem</a>). Для того, чтобы добавить фильтр в запрос, необходимо:</p>

<ul><li>создать экземпляр фильтра для данного запроса (методы <a href="createfilter-metod.html">CreateFilter()</a>, методы создания фильтров специального вида);</li>

    <li>добавить созданный экземпляр фильтра в коллекцию фильтров запроса (метод <a href="http://msdn.microsoft.com/en-us/library/ms132404.aspx">Add()</a> коллекции).</li>
</ul><p>По умолчанию все фильтры, добавляемые в коллекцию <a href="filters-svoystvo.html" data-auto-update-caption="true">Filters</a>, объединяются между собой логической операцией AND. Свойство <a href="logicaloperation-svoystvo-0.html" data-auto-update-caption="true">LogicalOperation</a> коллекции <a href="filters-svoystvo.html" data-auto-update-caption="true">Filters</a> позволяет пользователю указать логическую операцию, которой необходимо объединять фильтры. Свойство принимает значения из перечисления <a href="logicaloperationstrict-perechislenie.html" data-auto-update-caption="true">LogicalOperationStrict.</a></p>

<p>В запросах <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> реализована возможность управления фильтрами, участвующими в построении результирующего набора данных. Каждый элемент коллекции <a href="filters-svoystvo.html" data-auto-update-caption="true">Filters</a> имеет свойство <a href="isenabled-svoystvo-1.html" data-auto-update-caption="true">IsEnabled</a>, которое определяет, участвует ли данный элемент в построении результирующего запроса (true – участвует, false – не участвует). Аналогичное свойство <a href="isenabled-svoystvo-0.html">IsEnabled</a> также определено для всей коллекции <a href="filters-svoystvo.html" data-auto-update-caption="true">Filters</a>. Установив это свойство в false, можно полностью отключить фильтрацию для запроса, при этом коллекция фильтров запроса останется неизменной. Таким образом, изначально сформировав коллекцию фильтров запроса, в дальнейшем можно использовать различные комбинации для фильтрации этого запроса, не внося изменений в саму коллекцию. Пример управления фильтрами в запросе приведен ниже (пример 7).</p>

<h4>Пример 7</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса с корневой схемой "City". 
</span><span style="COLOR: #0000ff">var</span> esqCities = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"City"</span>);
esqCities.AddColumn(<span style="COLOR: #800000">"Name"</span>);

<span style="COLOR: #008000">// Создание экземпляра первого фильтра.
</span><span style="COLOR: #0000ff">var</span> esqFirstFilter = esqCities.CreateFilterWithParameters(FilterComparisonType.Equal, <span style="COLOR: #800000">"Name"</span>, <span style="COLOR: #800000">"Киев"</span>);

<span style="COLOR: #008000">// Создание экземпляра второго фильтра.
</span><span style="COLOR: #0000ff">var</span> esqSecondFilter = esqCities.CreateFilterWithParameters(FilterComparisonType.Equal, <span style="COLOR: #800000">"Name"</span>, <span style="COLOR: #800000">"Москва"</span>);

<span style="COLOR: #008000">// Фильтры в коллекцию фильтров запроса будут объединяться логическим оператором OR. 
</span>esqCities.Filters.LogicalOperation = LogicalOperationStrict.Or;

<span style="COLOR: #008000">// Добавление созданных фильтров в коллекцию запроса. 
</span>esqCities.Filters.Add(esqFirstFilter);
esqCities.Filters.Add(esqSecondFilter);

<span style="COLOR: #008000">// В данную коллекцию попадут объекты - результаты запроса, отфильтрованные по двум фильтрам.
</span><span style="COLOR: #0000ff">var</span> entities = esqCities.GetEntityCollection(UserConnection);

<span style="COLOR: #008000">// Для второго фильтра указывается, что он не будет участвовать в построении результирующего запроса.
// При этом данный фильтр не удаляется из коллекции фильтров запроса.
</span>esqSecondFilter.IsEnabled = <span style="COLOR: #0000ff">false</span>;

<span style="COLOR: #008000">// Обновляет экземпляр Select, ассоциированный с запросом, в соответствии с актуальным набором фильтров.    
</span>esqCities.ResetSelectQuery();

<span style="COLOR: #008000">// В данную коллекцию попадут объекты - результаты запроса, отфильтрованные только по первому фильтру.
</span><span style="COLOR: #0000ff">var</span> entities1 = esqCities.GetEntityCollection(UserConnection); 
</pre>
</div>

<p>Формирование путей колонок в фильтрах <a href="entityschemaquery-klass.html">EntitySchemaQuery</a> осуществляется в соответствии с общими правилами построения путей к колонкам относительно корневой схемы (описано выше).</p>

<p>Ниже приведен пример, демонстрирующий, как из корневой схемы ActivityCategory по обратным связям выбрать результаты активностей для конкретной категории. Для демонстрации возможностей использования обратных связей для колонок в фильтрах, для выбора конкретной активности будет использована не непосредственно колонка Id корневой схемы, а колонка – идентификатор активности, построенная по обратным связям через схему ActivityCategoryResultEntry.</p>

<h4>Пример 8</h4>

<div id="Syntax_CS" class="LanguageSpecific" data-title="CS" data-itemid="CS">
    <pre>
<span style="COLOR: #008000">// Создание экземпляра запроса с корневой схемой ActivityCategory.
</span><span style="COLOR: #0000ff">var</span> esqResult = <span style="COLOR: #0000ff">new</span> EntitySchemaQuery(UserConnection.EntitySchemaManager, <span style="COLOR: #800000">"ActivityCategory"</span>);

<span style="COLOR: #008000">// Добавление в запрос по обратным связям колонки с результатом активности.
</span>esqResult.AddColumn(<span style="COLOR: #800000">"[ActivityCategoryResultEntry:ActivityCategory].ActivityResult"</span>);

<span style="COLOR: #008000">// Определние идентификатора активности, для которой будут выбираться результаты.
</span><span style="COLOR: #0000ff">var</span> requiredActivityCategoryId = <span style="COLOR: #0000ff">new</span> Guid(<span style="COLOR: #800000">"42C74C49-58E6-DF11-971B-001D60E938C6"</span>);

<span style="COLOR: #008000">// Создание экземпляра фильтра для выбра результатов для конкретной категории активности.
</span><span style="COLOR: #0000ff">var</span> filter = esqResult.CreateFilterWithParameters(FilterComparisonType.Equal,
                    <span style="COLOR: #800000">"[ActivityCategoryResultEntry:ActivityCategory].ActivityCategory.Id"</span>,
                    requiredActivityCategoryId);

<span style="COLOR: #008000">// Добавление фильтра в коллекцию фильтров запроса.
</span>esqResult.Filters.Add(filter);

<span style="COLOR: #008000">// Текст результирующего sql-запроса (MS SQL):
</span>
<span style="COLOR: #008000">// SELECT
//        [ActivityCate1].[ActivityResultId] [ActivityCate1.ActivityResultId],
//        [ActivityResult].[Name] [ActivityResult.Name]
//    FROM
//        [dbo].[ActivityCategory] [ActivityCategory]
//        LEFT OUTER JOIN [dbo].[ActivityCategoryResultEntry] [ActivityCate1] 
//                 ON ([ActivityCate1].[ActivityCategoryId] = [ActivityCategory].[Id])
//        LEFT OUTER JOIN [dbo].[ActivityResult] [ActivityResult] 
//                ON ([ActivityResult].[Id] = [ActivityCate1].[ActivityResultId])
//    WHERE
//        EXISTS (
//                SELECT
//                    [ActivityCategory1].[Id] [Id]
//                FROM
//                    [dbo].[ActivityCategory] [ActivityCategory1]
//                WHERE
//                    [ActivityCate1].[ActivityCategoryId] = [ActivityCategory1].[Id]
//                AND [ActivityCategory1].[Id] = '{42C74C49-58E6-DF11-971B-001D60E938C6}') </span>
</pre>
</div><!--DXMETADATA end-->
			
			<a name="exampleBookmark" id="exampleBookmark"></a>
            <!--DXMETADATA start type="TaggedComment" source="Item" id="##EXAMPLEINTRO" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=example,caption=""$$Example$$%%designlist:tagidentifier=##EXAMPLECODE,itemtype=Example%%""%%%%comment%%" --><!--DXMETADATA end -->
			<!--DXMETADATA start type="FilteredItemList" scrap="INLINE_EXAMPLE" namespace="Example" source="Item" filter="type=inline" NoHeader="True" NoFooter="True" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=example,caption=""%%phrase:name=Example%%%%designlist:tagidentifier=##EXAMPLECODE,itemtype=Example%%""%%%%filtereditemlist%%</div>" blankformat="%%taggedcomment:source=item,id=##EXAMPLEINTRO,format=</div>%%" --><!--DXMETADATA end -->
           
			<a name="seealsobookmark" id="seealsobookmark"></a>
            <!--DXMETADATA start type="FilteredItemList" scrap="CATEGORISED_LINKS" namespace="linkcategory" source="Item" filter="" NoHeader="True" NoFooter="True" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=seealso,caption=""%%phrase:name=SeeAlso%%%%designlist:tagidentifier=seealso,itemtype=See Also%%""%%%%filtereditemlist%%</div>"--><h1 class="heading"><span class="expandcollapse" tabindex="0"><img id="seealsoToggle" class="toggle" name="toggleSwitch" src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/images/hs-heading-expanded.png" />Смотрите также</span></h1><div id="seealsoSection" class="section" name="collapseableSection"><a href="entityschemaquery-klass.html">EntitySchemaQuery - класс </a>
<br /><a href="select-klass.html">Select - класс</a>
<br /><a href="entityschemaquerycolumn-klass.html">EntitySchemaQueryColumn - класс</a>
<br /><a href="entityschemaqueryfilter-klass.html">EntitySchemaQueryFilter - класс </a>
<br /><a href="ientityschemaqueryfilteritem-interfeys.html">EntitySchemaQueryFilterItem - класс</a>
<br /><a href="entityschemaqueryfiltercollection-klass.html">EntitySchemaQueryFilterCollection - класс</a>

</div><!--DXMETADATA end-->
        </div>
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_FOOTER" --><!--DXMETADATA end -->
        <div id="pagefooter">
            <!--DXMETADATA start type="Variable" name="CopyrightNotice" format="<p>&nbsp;</p><p>&nbsp;</p><hr style=""height: 1px"" /><p>%%variable%%</p>" --><!--DXMETADATA end -->
        </div>
        <!--DXMETADATA start type="FeedbackSection" --><!--DXMETADATA end -->
    </div>
    <!--DXMETADATA start type="Variable" name="NonScrollingPageFooter" format="<div id=nonscrollingpagefooter>%%variable%%</div>" --><div id="nonscrollingpagefooter">© Terrasoft 2002-2016.</div><!--DXMETADATA end -->
<script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/helpstudio.js" type="text/javascript"></script><script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/hs-expandcollapse.js" type="text/javascript"></script><script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/hs-enlargeimage.js" type="text/javascript"></script><script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/swfobject.js" type="text/javascript"></script><script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/hs-common.js" type="text/javascript"></script><script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/hs-heading-expandcollapse.js" type="text/javascript"></script><script src="../../../sites/default/files/documents/docs/technic/SDK/7.8.0/script/hs-tabstrip.js" type="text/javascript"></script></div></div></div>              </div>
              <form action="https://academy.terrasoft.ua/documents/technic-sdk/7-8/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh" method="post" id="ts-doc-rate-form" accept-charset="UTF-8"><div><div id="ts-doc-rate-form-container" class="">
      <h4 id="vote-title">Был ли данный материал полезен?</h4>
    <div id="vote-container">
      <button type="submit" id="edit-rate-up" name="rate_up" value="Да" class="btn btn-default form-submit">Да</button>
      <button type="submit" id="edit-rate-down" name="rate_down" value="Нет" class="btn btn-default form-submit">Нет</button>
    </div>
    <div id="vote-comment-container">
      <div class="vote-feedback-coment-title">Как можно улучшить эту статью?</div>
      <div class="form-item form-item-rate-comment form-type-textarea form-group"><div class="form-textarea-wrapper resizable"><textarea class="form-control form-textarea" id="edit-rate-comment" name="rate_comment" cols="60" rows="5"></textarea></div></div>      <button type="submit" id="edit-rate-comment-save" name="rate_comment_save" value="Отправить" class="btn btn-primary form-submit">Отправить</button>
    </div>
    <input type="hidden" name="form_build_id" value="form-6QPxxNPoxvLOkMmHEjJzjyyl-edF0puz66Riu8U2BPw" />
<input type="hidden" name="form_id" value="ts_doc_rate_form" />
  </div>
</div></form>            
                      </article>
        </div>
            </div>
  </div>
  <div class="om-clearfix"></div>
  <script>
    jQuery.each(jQuery('div[align="right"]'), function( index, value ) {
      if (jQuery(jQuery(value)[0].previousElementSibling).hasClass('FM_Picturecaption')) {
        jQuery(value).attr('align', 'left');
      } else {
        var element = jQuery(jQuery(value)[0].previousElementSibling).append(jQuery(value).find('img'));
        var text = jQuery(jQuery(value)[0].nextElementSibling).html();
        jQuery(element).append(text);
        jQuery(jQuery(value)[0].nextElementSibling).remove();
        jQuery(value).remove();
      }
    });
    jQuery.each(jQuery('.field-name-body .field-item').children(), function( index, value ) {
      if((jQuery(value).html() == '' || jQuery(value).html() == ' ') && jQuery(value).prop("tagName") != 'IMG' && jQuery(value).prop("tagName") != 'BR' && jQuery(value).prop("tagName") != 'INPUT') {
        jQuery(value).remove();
      }
    });
    jQuery(function() {
      jQuery('#product-version-select').change(function() {
        window.location.pathname = '/' + jQuery(this).val();
      });
    });
  </script>




</section>
<section id="block-block-12" class="block block-block clearfix">

      
  <style type="text/css">
<!--/*--><![CDATA[/* ><!--*/

html[lang="ru"] .page-requirements-calculator .site-content #documentation-node-tpl #title-block .title-container {
    width: 242px !important;
    max-width: 242px !important;
}
html[lang="ru"] .page-requirements .site-content #documentation-node-tpl #title-block .title-container {
    width: 242px !important;
    max-width: 242px !important;
}
.page-requirements-calculator .site-content #documentation-node-tpl #title-block #product-info{
    width: 242px !important;
    max-width: 242px !important;
}

/*--><!]]>*/
</style>
</section>
  </div>
    </section>

    
  </div>
</div>


  <footer class="footer container">
          <div class="region region-footer">
    <section id="block-block-3" class="block block-block clearfix">

      
  <div class="footerSmall light  footerBorderTop">
<div class="container">
<div class="row flex-row">
<div class="col-md-6 col-sm-5">
<div class="footerSmall__widgerLeft">
<ul class="terrasoft__socials light"><li class="fb__icon"> </li>
	<li class="ln__icon"> </li>
	<li class="ytb__icon"> </li>
	<li class="tw__icon"> </li>
</ul></div>
</div>

<div class="col-md-6 col-sm">
<div class="footerSmall__widgerRight">
<ul class="terrasoft__contacts light"><li class="phone__icon"><a href="tel:+38 (044) 363-31-33">+38 (044) 363-31-33</a></li>
	<li class="email__icon"><a href="mailto:support@terrasoft.ua">support@terrasoft.ua</a></li>
</ul><div class="terrasoft__copyright"><a href="https://www.terrasoft.ua/privacy-policy">Конфиденциальность</a>

<p>© 2002-<span id="date-year"></span> <script>
<!--//--><![CDATA[// ><!--
var d = new Date(); document.getElementById("date-year").innerHTML = d.getFullYear();  
//--><!]]>
</script>  Terrasoft</p>
</div>
</div>
</div>
</div>
</div>
</div>

</section>
  </div>
  </footer>

<div class="feedback-box">
  <div class="feedback-box-left">
  	<div class="feedback-box-question">
        <a href="http://www.terrasoft.ua/business/feedback/question" target="_blank"><img alt="Задать вопрос" border="0" src="../../../sites/all/themes/bpmonline/img/ico/question_icon.png"></a>
    </div>
    <div class="feedback-box-community">
        <a href="http://community.terrasoft.ua/" target="_blank"><img alt="Задать вопрос" border="0" src="../../../sites/all/themes/bpmonline/img/ico/community_icon.png"></a>
    </div>
  </div>
  <div class="feedback-box-right">
  	<div class="feedback-box-question-text">
  	<a href="http://www.terrasoft.ua/business/feedback/question" target="_blank">Задать вопрос</a>
  	</div>
  	<div class="feedback-box-community-text">
  	<a href="http://community.terrasoft.ua/" target="_blank">Добавить дискуссию в community</a>
  	</div>
  </div>
</div>		<script src="../../../sites/default/files/js/js_QBt5TLxJ-PQG9Dvkdn8-P-YUjVsV2UVXDgLcFHEUD6k.js"></script>
<script>var eu_cookie_compliance_cookie_name = "";</script>
<script src="../../../sites/default/files/js/js_LJ9ec2CRJZo8o3XYyB71nYWT2tBToPuwelT6F-Oj3RQ.js"></script>
<script>
	  jQuery(document).ready(function() {

			jQuery('.fancybox').fancybox({
			  maxWidth	: 800,
			  maxHeight	: 600,
			  fitToView	: false,
			  width		: '100%',
			  height		: '100%',
			  autoSize	: true,
			  closeClick	: false,
			  openEffect	: 'none',
			  closeEffect	: 'none',
			  padding : 0
			});
	  });</script>
<script src="../../../sites/default/files/js/js_L50O_PWoAuMOxVjnzZCkNSSmI0kFwhZsO1_KS8WnGKw.js"></script>
	</div>

  	<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
		<g id="svg-pdf">
			<path d="M253.3,173.7c-19.3,0-43.5,3.4-51.5,4.6c-32.8-34.2-42.1-53.7-44.2-58.9c2.8-7.3,12.7-35,14.1-70.7
			c0.7-17.8-3.1-31.2-11.2-39.6C152.5,0.7,142.7,0,139.9,0c-9.9,0-26.4,5-26.4,38.4c0,29,13.5,59.8,17.3,67.7
			c-19.7,57.4-40.8,96.6-45.3,104.7C6.2,240.7,0,269.5,0,277.7c0,14.7,10.5,23.4,28,23.4c42.5,0,81.4-71.4,87.8-83.8
			c30.2-12,70.6-19.5,80.9-21.3c29.5,28.1,63.6,35.6,77.7,35.6c10.7,0,35.6,0,35.6-25.7C310,182.1,279.5,173.7,253.3,173.7z
			 M251.3,190.5c23,0,29,7.6,29,11.6c0,2.5-1,10.7-13.3,10.7c-11,0-30.1-6.4-48.9-20.2C226,191.6,237.6,190.5,251.3,190.5z
			 M138.7,16.3c2.1,0,3.5,0.7,4.6,2.3c6.6,9.2,1.3,39.1-5.2,62.6c-6.3-20.1-11-50.9-4.3-61.8C135,17.2,136.5,16.3,138.7,16.3z
			 M127.5,195.8c8.3-16.8,17.6-41.3,22.7-55.1c10.2,17,23.8,32.8,31.7,41.4C157.3,187.2,138.7,192.4,127.5,195.8z M16.5,279.9
			c-0.5-0.6-0.6-2-0.2-3.7c0.9-3.4,7.5-20.5,55.4-41.9c-6.9,10.8-17.6,26.2-29.3,37.7c-8.3,7.8-14.7,11.7-19.2,11.7
			C21.6,283.7,19.4,283.3,16.5,279.9z"/>
		</g>
	</svg>
</body>
<!--<link type="text/css" rel="stylesheet" href="/sites/all/modules/custom/ts_course_custom/css/course.min.css?nocache7" media="all" />-->
<!--<script src="/sites/all/modules/custom/ts_course_custom/js/course.js?nocache91288"></script>-->

<!-- Mirrored from academy.terrasoft.ua/documents/technic-sdk/7-8/ispolzovanie-entityschemaquery-dlya-postroeniya-zaprosov-k-baze-dannyh by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 23 Mar 2022 09:33:46 GMT -->
</html>
